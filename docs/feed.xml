<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.5">Jekyll</generator><link href="https://nimblearchitect.github.io/kubectl-ice/feed.xml" rel="self" type="application/atom+xml" /><link href="https://nimblearchitect.github.io/kubectl-ice/" rel="alternate" type="text/html" /><updated>2024-03-30T13:54:01+00:00</updated><id>https://nimblearchitect.github.io/kubectl-ice/feed.xml</id><title type="html">kubectl-ice</title><subtitle>kubectl-ice cleanly lists all containers in kubernetes pods including init containers you can view running kubernetes  information about the multi-container pods to assist in troubleshooting and information gathering</subtitle><author><name>NimbleArchitect</name></author><entry><title type="html">New Release V0.2.12</title><link href="https://nimblearchitect.github.io/kubectl-ice/release/2024/03/30/release-v0.2.12.html" rel="alternate" type="text/html" title="New Release V0.2.12" /><published>2024-03-30T11:57:28+00:00</published><updated>2024-03-30T11:57:28+00:00</updated><id>https://nimblearchitect.github.io/kubectl-ice/release/2024/03/30/release-v0.2.12</id><content type="html" xml:base="https://nimblearchitect.github.io/kubectl-ice/release/2024/03/30/release-v0.2.12.html"><![CDATA[<p>Kubectl-ice v0.2.12 has been released!</p>

<p>Quite a small release this time, the bigest change is with the ports and IP sub commands. Basically I have now merged the IP command into the Ports command, this meant grabbing the ip address from the pod information and adding a new ip column to the ports command, the ip address is hidden by default and can be made visible via the <code class="language-plaintext highlighter-rouge">--show-ip flag</code>, these changes meant that that I could merge the IP command in and adjust it to only show the pod name and IP address as a result we are now able to use the <code class="language-plaintext highlighter-rouge">--match</code> flag to match to show only specific rows, this also works in the ports command, see examples below.</p>

<h3 id="examples">Examples</h3>
<p>show only pods that have an ip address starting with 172</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice ip <span class="nt">--match</span> <span class="s2">"ip=172.*"</span>
</code></pre></div></div>

<p>show pods with an ip address that ends in .7</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice ip <span class="nt">--match</span> <span class="s2">"ip=*.7"</span>
</code></pre></div></div>

<p>show all pods with an ip that contains an octet of 17 and a port number of 80</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice ports <span class="nt">--match</span> <span class="s2">"ip=*.17.*,port=80"</span> <span class="nt">--show-ip</span>
</code></pre></div></div>

<p>we can also exclude using the same process (notice != in the command below),
only show pods with port 80 but not if they have a 7 in the ip address</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice ports <span class="nt">--match</span> <span class="s2">"ip!=7*,port=80"</span> <span class="nt">--show-ip</span>
</code></pre></div></div>

<p>as usual full details are in the documentation</p>

<p>NimbleArchitect</p>]]></content><author><name>NimbleArchitect</name></author><category term="Release" /><summary type="html"><![CDATA[Kubectl-ice v0.2.12 has been released!]]></summary></entry><entry><title type="html">New Release V0.2.11</title><link href="https://nimblearchitect.github.io/kubectl-ice/release/2023/02/07/release-v0.2.11.html" rel="alternate" type="text/html" title="New Release V0.2.11" /><published>2023-02-07T12:49:48+00:00</published><updated>2023-02-07T12:49:48+00:00</updated><id>https://nimblearchitect.github.io/kubectl-ice/release/2023/02/07/release-v0.2.11</id><content type="html" xml:base="https://nimblearchitect.github.io/kubectl-ice/release/2023/02/07/release-v0.2.11.html"><![CDATA[<p>Kubectl-ice v0.2.11 has been released!</p>

<p>Its been a while since the previous release (I have been working on other projects) but I have finally added colours to the table output of ice “woohoo”, please bear in mind I have only tested this on linux so it might break the output on other systems (if it does then please raise a ticket detailing the comand you used, your os and a screen grab of the output) and yes I know it looks like I’m mixing the spelling of colour with color but I set the flag to the Americian spelling as thats what im used to when working on the command line and the most common spelling across various other programs, I grew up in london so alwas spelt using the queens english.</p>

<p>The new <code class="language-plaintext highlighter-rouge">--colors argument</code> flag lets you colour the output based on a provided string, doing this allows the us to choose the one we prefer if your a fan of having each column a different colour, you can using the <code class="language-plaintext highlighter-rouge">columns</code> argument. if on the other had you only want to colour to help identify which resources in the cpu output are above 75% used then you can use the  <code class="language-plaintext highlighter-rouge">errors</code> argument which displays 0-74% in green, 75-89% in yellow and 90-100% as red, anything left in the base colour means ice was unable to collect enough data to make an assumption (or I messed up the code somewhere). I then decided it would be nice to allow mixing of the above schemes so I added the <code class="language-plaintext highlighter-rouge">mix</code> argument which sets colours as columns but then adds the green/yellow/red to percentages and states as needed, giving more of a blended look to the output</p>

<p>On top of the above arguments I also decided it would be useful to allow users to specify there own colour schemes, so I added the <code class="language-plaintext highlighter-rouge">custom</code> argument this is a “;” seperated list with each element being x.y with x being the modifier (bold/underline/flashing) and y being the colour (these are standard ansi colour codes). I’ll add the colour table below.  While I was testing this I also added the ability to change the good/warn/bad colours by prefixing the custom colour with “g”, “w” and “b”, which when detected ice switches to an internal custom mix setting so it can display the table with a custom colour in each column whilst also changing the errors colour for a few % related columns.</p>

<p>you can also set the environment variable ICE_COLOR to argument so ice will always use that unless overridden using the color flag</p>

<h3 id="colour-codes">Colour codes</h3>
<p>Default		 39
Black		 30	
Dark red	 31	
Dark green	 32	
Dark yellow  33	
Dark blue	 34	
Dark magenta 35	
Dark cyan	 36	
Light gray	 37	
Dark gray	 90	
Red		     91	
Green		 92	
Orange		 93	
Blue		 94	
Magenta		 95	
Cyan		 96	
White		 97</p>

<h3 id="modifiers">Modifiers</h3>
<p>brighter     1
underlined   4
flashing     5</p>

<h3 id="examples">Examples</h3>
<p>each column is a different colour</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice status <span class="nt">--color</span> column
</code></pre></div></div>

<p>choosing the colour of each column (colours repeat if there are more columns than colours) in this case the colours are blue, magenta, cyan, blue, magenta, cyan, etc</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice status <span class="nt">--color</span> <span class="s2">"custom;0.94;0.95;0.96"</span>
</code></pre></div></div>

<p>showing the columns in colour with cpu usage coloured as good (green), warning (yellow) and bad (red)</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice cpu <span class="nt">--color</span> mix
</code></pre></div></div>

<p>and finally memory output with custom colours for each column but warning is flashing yellow and bad is flashing red</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice memory <span class="nt">--colour</span> <span class="s2">"custom;0.33;0.34;0.35;0.36;0.90;0.93;0.94;g1.92;w5.33;b5.91"</span>
</code></pre></div></div>
<p>in the above command the “w5.33” the w means to set the warning colour 5 is flash the text and 33 is the colour yellow</p>

<p>as usual full details are in the documentation</p>

<p>NimbleArchitect</p>]]></content><author><name>NimbleArchitect</name></author><category term="Release" /><summary type="html"><![CDATA[Kubectl-ice v0.2.11 has been released!]]></summary></entry><entry><title type="html">New Release V0.2.10</title><link href="https://nimblearchitect.github.io/kubectl-ice/release/2022/09/19/release-v0.2.10.html" rel="alternate" type="text/html" title="New Release V0.2.10" /><published>2022-09-19T11:37:13+01:00</published><updated>2022-09-19T11:37:13+01:00</updated><id>https://nimblearchitect.github.io/kubectl-ice/release/2022/09/19/release-v0.2.10</id><content type="html" xml:base="https://nimblearchitect.github.io/kubectl-ice/release/2022/09/19/release-v0.2.10.html"><![CDATA[<p>Kubectl-ice v0.2.10 released, this release is another bug fix to re-hide init containers from the cpu and memory sub commands, if you need to see the init containers use the <code class="language-plaintext highlighter-rouge">-i</code> of <code class="language-plaintext highlighter-rouge">--include-init</code> flags</p>]]></content><author><name>NimbleArchitect</name></author><category term="Release" /><summary type="html"><![CDATA[Kubectl-ice v0.2.10 released, this release is another bug fix to re-hide init containers from the cpu and memory sub commands, if you need to see the init containers use the -i of --include-init flags]]></summary></entry><entry><title type="html">New Release V0.2.9</title><link href="https://nimblearchitect.github.io/kubectl-ice/release/2022/09/16/release-v0.2.9.html" rel="alternate" type="text/html" title="New Release V0.2.9" /><published>2022-09-16T13:23:37+01:00</published><updated>2022-09-16T13:23:37+01:00</updated><id>https://nimblearchitect.github.io/kubectl-ice/release/2022/09/16/release-v0.2.9</id><content type="html" xml:base="https://nimblearchitect.github.io/kubectl-ice/release/2022/09/16/release-v0.2.9.html"><![CDATA[<p>I have just released Kubectl-ice v0.2.9, this release is just a bug fix for the lifecycle command and support for go v1.19</p>]]></content><author><name>NimbleArchitect</name></author><category term="Release" /><summary type="html"><![CDATA[I have just released Kubectl-ice v0.2.9, this release is just a bug fix for the lifecycle command and support for go v1.19]]></summary></entry><entry><title type="html">New Release V0.2.8</title><link href="https://nimblearchitect.github.io/kubectl-ice/release/2022/08/19/release-v0.2.8.html" rel="alternate" type="text/html" title="New Release V0.2.8" /><published>2022-08-19T17:48:54+01:00</published><updated>2022-08-19T17:48:54+01:00</updated><id>https://nimblearchitect.github.io/kubectl-ice/release/2022/08/19/release-v0.2.8</id><content type="html" xml:base="https://nimblearchitect.github.io/kubectl-ice/release/2022/08/19/release-v0.2.8.html"><![CDATA[<p>Kubectl-ice v0.2.8 has just been released, this release adds support for reading from yaml files along with reading from stdin, it also adds the –column flag which allows you to specify which columns should be shown in the output.</p>

<p>First lets talk about the -f flag, I added it initially as it helped when testing new ideas but quickly realised it could be beneficial to others when I started exploring the image and capabilities commands. I actually found it really cool to be able to read a list of image names from yaml files without having to resort to opening the file or using grep to get the image list. With that in place it was a no-brainer to to add the ability to read piped data so it could be used with helm</p>

<p>which then allows things like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>helm template mychart | kubectl-ice image
helm get manifest mychart | kubectl-ice image
</code></pre></div></div>

<p>Currently I envision this as more of a safety check in a pipeline or maybe even used in a reporting process to list the ports or images used, when combined with the column flag below it has the potential to be very powerful and useful but only time will tell…</p>

<p>Next up is the <code class="language-plaintext highlighter-rouge">--columns</code> flag, which when specified this flag accept a comma separated list of column names to show, the advantage here is only those specified columns are shown in the table output and you can specify any valid column even those that are hidden by default, given the image command you could create something like</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl-ice image --columns podname,image,imageid
</code></pre></div></div>
<p>would show a list of pod names with the image name and along with the sha of the image
the only down side of this is that the column order is set but the program and now the user so you have no control over the column order.</p>

<p>That’s me for now and I hope this has been useful.</p>

<p>NimbleArchitect</p>]]></content><author><name>NimbleArchitect</name></author><category term="Release" /><summary type="html"><![CDATA[Kubectl-ice v0.2.8 has just been released, this release adds support for reading from yaml files along with reading from stdin, it also adds the –column flag which allows you to specify which columns should be shown in the output.]]></summary></entry><entry><title type="html">At long last!</title><link href="https://nimblearchitect.github.io/kubectl-ice/site/2022/08/16/welcome.html" rel="alternate" type="text/html" title="At long last!" /><published>2022-08-16T18:42:24+01:00</published><updated>2022-08-16T18:42:24+01:00</updated><id>https://nimblearchitect.github.io/kubectl-ice/site/2022/08/16/welcome</id><content type="html" xml:base="https://nimblearchitect.github.io/kubectl-ice/site/2022/08/16/welcome.html"><![CDATA[<p>I finally did it… I finally managed to get around to creating a site for kubectl-ice, its taken about 4 weeks so far to get to this stage but for the time being it will be a work in progress, it should hold all the needed information about ice though so if you notice any mistakes or issues please do let me know.</p>]]></content><author><name>NimbleArchitect</name></author><category term="site" /><summary type="html"><![CDATA[I finally did it… I finally managed to get around to creating a site for kubectl-ice, its taken about 4 weeks so far to get to this stage but for the time being it will be a work in progress, it should hold all the needed information about ice though so if you notice any mistakes or issues please do let me know.]]></summary></entry></feed>